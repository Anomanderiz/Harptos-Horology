@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@600;700;800&family=Cormorant+Garamond:wght@500;600;700&display=swap');

/* ============================================================
   Harptos â€“ Black / Gold / Red theme + Responsive Month Grid + Timeline
   + Fullscreen Video Backdrop (Backdrop.webm)
   ============================================================ */

:root{
  --bg:#0a0a0a;
  --panel-top:#141416; --panel-bot:#0f0f11;
  --gold:#d4af37; --gold-soft:#f2e3a6; --gold-dim:#a38425;
  --red:#b11a1a; --red-strong:#d31c1c; --red-dark:#7f1010;
  --muted:#bfbfbf; --gap:18px;
}

/* --- Video background (above page bg, below content) --------------------- */
#bg-video{
  position:fixed; inset:0;
  width:100%; height:100%;
  object-fit:cover;
  z-index:0;
  background:#000;
  pointer-events:none;
}
#bg-overlay{
  position:fixed; inset:0; z-index:1; pointer-events:none;
  background:
    radial-gradient(1200px 800px at 20% -10%, rgba(0,0,0,.45) 0%, transparent 60%),
    radial-gradient(1200px 800px at 80% 110%, rgba(0,0,0,.45) 0%, transparent 60%),
    linear-gradient(180deg, rgba(0,0,0,.25), rgba(0,0,0,.35));
}

/* Lift all regular content above the video/overlay */
body > *:not(#bg-video):not(#bg-overlay){
  position:relative; z-index:2;
}

/* Respect reduced-motion preferences */
@media (prefers-reduced-motion: reduce){
  #bg-video{ display:none; }
  #bg-overlay{ background: rgba(0,0,0,.6); }
}

/* Root bg transparent so video is visible */
html,body{
  background: transparent !important;
  color:var(--gold);
  min-height:100%;
}

/* Top bar */
.navbar, .navbar * { color:var(--gold) !important; }
.navbar{
  background:linear-gradient(180deg,var(--panel-top) 0%, var(--panel-bot) 100%);
  border:1px solid var(--gold-dim); border-radius:14px; padding:12px 16px;
  box-shadow:0 0 0 2px rgba(212,175,55,.08) inset, 0 10px 30px rgba(0,0,0,.35);
}

/* Generic glass cards */
.glass{
  background:linear-gradient(180deg,var(--panel-top) 0%, var(--panel-bot) 100%);
  border:1px solid var(--gold-dim); border-radius:14px; padding:12px 14px;
  color:var(--gold-soft);
  box-shadow:0 0 0 2px rgba(212,175,55,.07) inset, 0 8px 30px rgba(0,0,0,.4);
}
.glass .card-header{
  background:transparent; border-bottom:1px solid rgba(212,175,55,.35);
  color:var(--gold); letter-spacing:.3px; font-weight:700; padding:4px 0 10px;
  font-size:clamp(14px,1.1vw,18px);
}

/* Forms in glass cards */
.glass .form-label, .glass label{ color:var(--gold) !important; font-weight:700; }
.glass .form-control, .glass .form-select{
  background:#0f0f11; color:var(--gold) !important; border:1px solid rgba(212,175,55,.45);
}
.glass .form-control::placeholder{ color:#9a8452; }
.glass .form-control:focus, .glass .form-select:focus{
  border-color: color-mix(in srgb, var(--gold) 50%, var(--red) 50%);
  box-shadow:0 0 0 .2rem rgba(179,28,28,.35);
}

/* ======= Responsive month layout ======= */
.months-wrap{
  display:grid; width:100%; gap:var(--gap);
  grid-template-columns:repeat(3,1fr);
}
@media (min-width:2400px){ .months-wrap{ grid-template-columns:repeat(4,1fr); } }
@media (max-width:1100px){ .months-wrap{ grid-template-columns:repeat(2,1fr); } }
@media (max-width:640px){  .months-wrap{ grid-template-columns:1fr; } }

.month-card{ overflow:visible; container-type:inline-size; }

.month-grid{
  display:grid; gap:12px; grid-auto-flow:row dense;
  grid-template-columns:repeat(10,1fr);
}
@media (max-width:1800px){ .month-grid{ grid-template-columns:repeat(8,1fr); } }
@media (max-width:1500px){ .month-grid{ grid-template-columns:repeat(6,1fr); } }
@media (max-width:950px) { .month-grid{ grid-template-columns:repeat(5,1fr); } }
@media (max-width:720px) { .month-grid{ grid-template-columns:repeat(4,1fr); } }

.day-tile-btn{ display:block; width:100%; height:100%; padding:0; border:none; background:transparent; }
.day-tile-btn:focus-visible{ outline:none; }
.day-tile-btn:hover .day-tile{
  box-shadow:0 0 0 2px rgba(179,28,28,.45) inset, 0 0 12px rgba(179,28,28,.25);
}

.day-tile{
  position:relative; overflow:hidden; aspect-ratio:1/1;
  background:linear-gradient(180deg,#18181a 0%, #121214 100%);
  border:1px solid rgba(212,175,55,.35); border-radius:12px;
  padding:30px 10px 10px 10px;
  display:flex; flex-direction:column; gap:6px;
  transition: box-shadow .12s ease, background-color .12s ease, border-color .12s ease;
  container-type:inline-size;
}
.day-tile.current-day{
  background:linear-gradient(180deg, var(--red-strong) 0%, var(--red) 60%, var(--red-dark) 100%);
  border-color: color-mix(in srgb, var(--gold) 60%, var(--red) 40%);
  box-shadow:0 0 0 2px rgba(211,28,28,.45) inset, 0 0 24px rgba(211,28,28,.35);
}

.day-num{
  position:absolute; top:6px; left:8px; z-index:2;
  font-weight:800; letter-spacing:.2px;
  font-size:clamp(12px, 2.0cqw, 16px);
  color:var(--gold);
}
.day-tile.current-day .day-num{ color:#fff8dc; }

.pip-wrap{ position:absolute; right:8px; top:8px; display:flex; gap:4px; z-index:2; }
.pip{ width:8px; height:8px; border-radius:50%; background:var(--gold); box-shadow:0 0 0 1px rgba(0,0,0,.35) inset; }

.day-events{ display:grid; grid-template-columns:1fr; gap:2px; }
.event-blurb{
  display:block; width:100%; max-width:100%; margin:0; padding:0;
  color:var(--gold-soft);
  font-size: clamp(10px, 1.8cqw, 14px);
  line-height:1.2; overflow-wrap:anywhere; white-space:normal;
}
.day-tile.current-day .event-blurb{ color:#fff9df; }

.event-more{
  text-align:center; color:var(--gold);
  background:rgba(179,28,28,.22);
  border:1px solid rgba(179,28,28,.45);
  border-radius:8px; padding:2px 4px;
  font-size: clamp(10px, 1.6cqw, 12px);
}

.festival-label{
  position:absolute; left:10px; bottom:10px; right:10px;
  color:var(--gold); font-weight:600;
  font-size:clamp(11px, 1.8cqw, 14px);
  line-height:1.15; overflow-wrap:anywhere;
}
.day-tile.current-day .festival-label{ color:#fff7cc; }

/* Buttons */
.btn, .btn-primary, .btn-secondary, .btn-success, .btn-danger{
  --btn-bg:linear-gradient(180deg,#171718 0%, #101012 100%);
  --btn-bd:rgba(212,175,55,.5); --btn-tx:var(--gold);
  background:var(--btn-bg) !important; border:1px solid var(--btn-bd) !important; color:var(--btn-tx) !important;
  box-shadow:0 0 0 1px rgba(212,175,55,.12) inset;
}
.btn:hover, .btn:focus{
  border-color:color-mix(in oklab, var(--gold) 60%, var(--red) 40%) !important;
  box-shadow:0 0 0 2px rgba(179,28,28,.35) inset, 0 0 18px rgba(179,28,28,.25);
}
.btn-danger{
  --btn-bg:linear-gradient(180deg, var(--red) 0%, var(--red-dark) 100%);
  --btn-bd:rgba(255,255,255,.35); --btn-tx:#fff8f0;
}
.btn-danger:hover, .btn-danger:focus{
  border-color:#ffd3d3 !important;
  box-shadow:0 0 0 2px rgba(255,233,233,.45) inset, 0 0 18px rgba(217,63,63,.4);
}

/* Modals */
.modal .modal-content{
  background:linear-gradient(180deg,#141416 0%, #0f0f11 100%);
  color:var(--gold); border:1px solid var(--gold-dim);
  box-shadow:0 10px 40px rgba(0,0,0,.6), 0 0 0 2px rgba(212,175,55,.07) inset;
}
.modal .form-label, .modal label{ color:var(--gold) !important; font-weight:700; }
.modal .form-control, .modal .form-select{
  background:#0f0f11; color:var(--gold) !important; border:1px solid rgba(212,175,55,.45);
}
.modal .form-control::placeholder{ color:#9a8452; }
.modal .form-control:focus, .modal .form-select:focus{
  border-color: color-mix(in srgb, var(--gold) 50%, var(--red) 50%);
  box-shadow:0 0 0 .2rem rgba(179,28,28,.35);
}

/* ===================== TIMELINE CAROUSEL ===================== */
.tl-carousel-shell{
  margin: 12px auto 78px;
  padding: 18px clamp(8px, 1.4vw, 18px) 16px;
  border-radius: 18px;
  background:
    radial-gradient(70% 120% at 50% -12%, rgba(212,175,55,.12), transparent 62%),
    radial-gradient(70% 100% at 50% 120%, rgba(177,26,26,.14), transparent 60%),
    linear-gradient(180deg, rgba(20,20,22,.86) 0%, rgba(12,12,14,.9) 100%);
  border: 1px solid rgba(212,175,55,.38);
  box-shadow: 0 0 0 1px rgba(212,175,55,.08) inset, 0 18px 40px rgba(0,0,0,.45);
}

.tl-carousel-stage{
  display:grid;
  grid-template-columns:auto 1fr auto;
  align-items:center;
  gap:12px;
}

.tl-carousel-viewport{
  overflow:hidden;
  touch-action:pan-y;
  cursor:grab;
  padding: 10px 6px 18px;
}
.tl-carousel-viewport.dragging{ cursor:grabbing; }

.tl-carousel-track{
  display:flex;
  align-items:stretch;
  gap:22px;
  width:max-content;
}

.tl-card-wrap{
  flex:0 0 clamp(240px, 28vw, 340px);
}

.tl-card{
  position:relative;
  height:430px;
  border-radius:16px;
  border:1px solid rgba(212,175,55,.52);
  background:
    radial-gradient(120% 55% at 50% 0%, rgba(212,175,55,.2), transparent 58%),
    radial-gradient(100% 70% at 50% 100%, rgba(177,26,26,.28), transparent 62%),
    linear-gradient(180deg, #1a1516 0%, #120f10 100%);
  box-shadow:
    0 0 0 2px rgba(212,175,55,.08) inset,
    0 16px 26px rgba(0,0,0,.48);
  padding:16px 16px 14px;
  display:flex;
  flex-direction:column;
}

.tl-card::before{
  content:"";
  position:absolute;
  inset:9px;
  border:1px solid rgba(212,175,55,.33);
  border-radius:12px;
  pointer-events:none;
}

.tl-card::after{
  content:"";
  position:absolute;
  left:50%;
  top:12px;
  width:44px;
  height:2px;
  transform:translateX(-50%);
  background:linear-gradient(90deg, transparent, rgba(242,227,166,.86), transparent);
}

.tl-eyebrow{
  font-family:"Cinzel", "Times New Roman", serif;
  font-size:11px;
  letter-spacing:2.4px;
  text-transform:uppercase;
  color:rgba(242,227,166,.84);
  text-align:center;
  margin-top:2px;
  margin-bottom:8px;
}

.tl-sub{
  font-family:"Cormorant Garamond", Georgia, serif;
  font-size:13px;
  color:rgba(242,227,166,.9);
  text-align:center;
  margin:0;
}

.tl-title{
  font-family:"Cinzel", "Times New Roman", serif;
  margin-top:10px;
  margin-bottom:8px;
  color:var(--gold);
  font-size:clamp(18px, 2.1vw, 24px);
  font-weight:800;
  line-height:1.15;
}

.tl-desc{
  font-family:"Cormorant Garamond", Georgia, serif;
  margin-top:6px;
  color:var(--gold-soft);
  font-size:14px;
  line-height:1.38;
  overflow:hidden;
  display:-webkit-box;
  -webkit-box-orient:vertical;
  -webkit-line-clamp:12;
}

.tl-rw{
  font-family:"Cormorant Garamond", Georgia, serif;
  margin-top:auto;
  padding-top:12px;
  font-size:12px;
  color:rgba(242,227,166,.82);
  border-top:1px solid rgba(212,175,55,.24);
}

.tl-arrow{
  width:58px;
  height:58px;
  border-radius:999px;
  border:1px solid rgba(242,227,166,.7);
  background:
    radial-gradient(120% 120% at 35% 22%, rgba(255,244,195,.66), transparent 40%),
    linear-gradient(180deg, #d9b447 0%, #a4802b 58%, #7a5a1d 100%);
  color:#241a07;
  font-size:30px;
  font-weight:800;
  line-height:1;
  box-shadow:
    0 0 0 2px rgba(60,42,10,.35) inset,
    0 8px 20px rgba(0,0,0,.42);
  transition:transform .14s ease, filter .14s ease, box-shadow .14s ease;
}
.tl-arrow:hover, .tl-arrow:focus{
  transform:translateY(-2px) scale(1.03);
  filter:saturate(1.12);
  box-shadow:
    0 0 0 2px rgba(84,59,17,.45) inset,
    0 12px 22px rgba(0,0,0,.5),
    0 0 14px rgba(212,175,55,.38);
}

.tl-quick-actions{
  margin-top:6px;
  display:flex;
  justify-content:center;
  gap:10px;
  flex-wrap:wrap;
}

.tl-jump-strip{
  margin-bottom:10px;
  display:flex;
  justify-content:center;
  gap:10px;
  flex-wrap:wrap;
}

.tl-jump{
  border:1px solid rgba(212,175,55,.65);
  border-radius:999px;
  padding:8px 14px;
  background:linear-gradient(180deg, #221b16 0%, #15100d 100%);
  color:var(--gold-soft);
  font-weight:700;
  letter-spacing:.3px;
}
.tl-jump:hover, .tl-jump:focus{
  border-color:rgba(242,227,166,.95);
  box-shadow:0 0 0 1px rgba(242,227,166,.23) inset, 0 0 12px rgba(212,175,55,.28);
}

@media (max-width:980px){
  .tl-card-wrap{ flex-basis: clamp(220px, 62vw, 330px); }
  .tl-card{ height:410px; }
}

@media (max-width:640px){
  .tl-carousel-stage{ grid-template-columns:48px 1fr 48px; gap:8px; }
  .tl-arrow{ width:46px; height:46px; font-size:24px; }
  .tl-card{ height:392px; padding:14px 13px 12px; }
  .tl-title{ font-size:clamp(16px, 4.8vw, 22px); }
  .tl-desc{ font-size:13px; -webkit-line-clamp:11; }
  .tl-jump-strip{
    gap:8px;
  }
}

/* Misc text helpers */
.edit-link{ color:var(--gold-soft) !important; text-decoration:none; }
.text-on-dark{ color:var(--gold) !important; }
.muted{ color:var(--muted); }
