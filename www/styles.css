/* Full-width year grid; square day tiles; entire day tile is the button.
   Event titles are plain text inside each tile (no event chips).
   CURRENT-DAY FIX: Only .day-num.current is green; others are neutral. */
:root{
  --fg:#fff;
  --panel:#35669b;
  --panel-2:#2f5a88;
  --border:rgba(255,255,255,0.25);
  --highlight:#b7ffb1;

  --ev-bg:#d3ecff;
  --ev-tx:#0e233a;
  --ev-bd:#b6d7ff;

  --gap:18px;
}

html,body{ background:#0e243a; color:var(--fg); min-height:100%; }

/* Top bar */
.navbar, .navbar * { color:var(--fg) !important; }
.navbar{
  background:linear-gradient(180deg,#123a63 0%, #0f2f52 100%);
  border-radius:12px; padding:12px 16px;
  border:1px solid rgba(255,255,255,0.08);
}

/* Months grid (3 across by default) */
.months-wrap{
  display:grid; gap:var(--gap); width:100%;
  grid-template-columns:repeat(3,1fr);
}
@media (min-width:2400px){ .months-wrap{ grid-template-columns:repeat(4,1fr); } }
@media (max-width:1100px){ .months-wrap{ grid-template-columns:repeat(2,1fr); } }
@media (max-width:640px){  .months-wrap{ grid-template-columns:1fr; } }

.glass.month-card{
  background:linear-gradient(180deg,var(--panel) 0%, var(--panel-2) 100%);
  border:1px solid var(--border); border-radius:12px; color:var(--fg);
  padding:12px 14px;
}
.card-header{
  background:transparent; border-bottom:1px solid rgba(255,255,255,0.15);
  color:#e9f2ff; font-weight:600; padding:4px 0 10px 0;
  font-size:clamp(14px,1.1vw,18px);
}

.days-wrap{ display:grid; grid-template-rows:auto auto auto; gap:10px; }
.day-row{  display:grid; grid-template-columns:repeat(10,1fr); gap:10px; }

/* === One big BUTTON per day === */
.day-tile-btn{
  display:block; width:100%; height:100%;
  padding:0; border:none; background:transparent;
}
.day-tile-btn:hover{ filter:brightness(1.04); }

/* The tile content (inside the button) */
.day-tile{
  position:relative;
  background:rgba(255,255,255,0.07);
  border-radius:12px;
  padding:36px 10px 10px 10px; /* top space for day number */
  aspect-ratio:1/1;            /* square */
  display:flex; flex-direction:column; gap:8px;
  overflow:hidden;
  container-type:inline-size;  /* cqw for scalable text */
}

/* Day number pill (neutral by default) */
.day-num{
  position:absolute; top:8px; left:8px; z-index:2;
  min-width:2.6ch; height:28px; line-height:26px;
  padding:0 .6ch; text-align:center;
  font-weight:700; font-size:clamp(11px,2.2cqw,16px);
  color:#e7f0ff;                                 /* neutral text */
  background:rgba(0,0,0,0.15);                   /* NEUTRAL background */
  border:1px solid rgba(255,255,255,0.35);       /* NEUTRAL border */
  border-radius:8px;
}

/* Current day ONLY */
.day-num.current{
  color:#0a2f0a;
  background:#b7ffb1;
  border-color:#7fdc72;
  box-shadow:0 0 0 2px rgba(183,255,177,0.45) inset;
}

/* Moon pips */
.pip-wrap{ position:absolute; right:8px; top:10px; display:flex; gap:4px; z-index:2; }
.pip{ width:8px; height:8px; border-radius:50%; display:inline-block; }
.pip-new{ background:#e6fff8; box-shadow:0 0 0 1px rgba(255,255,255,.5) inset; }
.pip-full{ background:#161616; box-shadow:0 0 0 1px rgba(255,255,255,.6) inset; }

/* Event titles rendered as text inside the tile (not buttons) */
.day-events{ display:grid; grid-template-columns:1fr; grid-auto-rows:minmax(26px,auto); gap:6px; }
.event-blurb{
  display:-webkit-box; -webkit-box-orient:vertical; -webkit-line-clamp:2;
  overflow:hidden; word-break:break-word;
  padding: clamp(4px,1.2cqw,10px) clamp(6px,1.6cqw,12px);
  border-radius:8px;
  background:var(--ev-bg);
  color:var(--ev-tx);
  border:1px solid var(--ev-bd);
  font-size:clamp(10px,2.5cqw,13px);
  line-height:1.2;
}
.event-more{
  text-align:center; color:#fff; background:rgba(255,255,255,.25);
  border-radius:8px; padding:4px 6px; font-size:clamp(10px,2.2cqw,12px);
}

/* Intercalary 31 row */
.festival-row{ display:grid; grid-template-columns:repeat(10,1fr); gap:10px; }
.festival-label{
  position:absolute; left:10px; bottom:10px; right:10px;
  color:#eaf5ff; font-size:clamp(11px,2.3cqw,14px);
  line-height:1.15; white-space:normal; overflow-wrap:anywhere;
}

/* Modals */
.modal .modal-content{ background:#f7f9fc; color:#0f1c2b; }
.modal .form-label, .modal label{ color:#0f1c2b !important; font-weight:700; }
.modal .form-control, .modal .form-select{ background:#fff; color:#0f1c2b !important; border-color:#c7d1e3; }
.modal .form-control::placeholder{ color:#5a6b85; }

.edit-link{ color:#123a63 !important; text-decoration:none; }
.text-on-dark{ color:var(--fg) !important; }
.muted{ opacity:.75; }
